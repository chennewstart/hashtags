<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_65) on Sun Jun 29 02:30:12 PDT 2014 -->
<TITLE>
AvroStorageUtils (Pig 0.13.0 API)
</TITLE>

<META NAME="date" CONTENT="2014-06-29">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AvroStorageUtils (Pig 0.13.0 API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AvroStorageUtils.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageLog.html" title="class in org.apache.pig.piggybank.storage.avro"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/PigAvroDatumReader.html" title="class in org.apache.pig.piggybank.storage.avro"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html?org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AvroStorageUtils.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.apache.pig.piggybank.storage.avro</FONT>
<BR>
Class AvroStorageUtils</H2>
<PRE>
<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../../../resources/inherit.gif" ALT="extended by "><B>org.apache.pig.piggybank.storage.avro.AvroStorageUtils</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>AvroStorageUtils</B><DT>extends <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></DL>
</PRE>

<P>
This is utility class for this package
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.avro.Schema</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#BooleanSchema">BooleanSchema</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.avro.Schema</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#BytesSchema">BytesSchema</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.avro.Schema</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#DoubleSchema">DoubleSchema</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.avro.Schema</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#FloatSchema">FloatSchema</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.avro.Schema</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#IntSchema">IntSchema</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.avro.Schema</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#LongSchema">LongSchema</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.avro.Schema</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#NullSchema">NullSchema</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.hadoop.fs.PathFilter</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#PATH_FILTER">PATH_FILTER</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ignore hdfs files with prefix "_" and "."</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.avro.Schema</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#StringSchema">StringSchema</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#AvroStorageUtils()">AvroStorageUtils</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#containsGenericUnion(org.apache.avro.Schema)">containsGenericUnion</A></B>(org.apache.avro.Schema&nbsp;s)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;determine whether the input schema contains generic unions</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#containsGenericUnion(org.apache.avro.Schema, java.util.Set)">containsGenericUnion</A></B>(org.apache.avro.Schema&nbsp;s,
                     <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;org.apache.avro.Schema&gt;&nbsp;visitedRecords)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called by <A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#containsGenericUnion(org.apache.avro.Schema)"><CODE>containsGenericUnion(Schema)</CODE></A> and it recursively checks
 whether the input schema contains generic unions.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#containsRecursiveRecord(org.apache.avro.Schema)">containsRecursiveRecord</A></B>(org.apache.avro.Schema&nbsp;s)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;determine whether the input schema contains recursive records</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#containsRecursiveRecord(org.apache.avro.Schema, java.util.Set)">containsRecursiveRecord</A></B>(org.apache.avro.Schema&nbsp;s,
                        <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&gt;&nbsp;definedRecordNames)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called by <A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#containsRecursiveRecord(org.apache.avro.Schema)"><CODE>containsRecursiveRecord(Schema)</CODE></A> and it recursively checks
 whether the input schema contains recursive records.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.avro.Schema.Field</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#createUDField(int, org.apache.avro.Schema)">createUDField</A></B>(int&nbsp;index,
              org.apache.avro.Schema&nbsp;s)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;create  an avro field using the given schema</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.avro.Schema</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#createUDPartialRecordSchema()">createUDPartialRecordSchema</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;create an avro field with null schema (it is a space holder)</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.avro.Schema</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#getAcceptedType(org.apache.avro.Schema)">getAcceptedType</A></B>(org.apache.avro.Schema&nbsp;in)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract schema from a nullable union</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;org.apache.hadoop.fs.Path&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#getAllFilesRecursively(java.util.Set, org.apache.hadoop.conf.Configuration)">getAllFilesRecursively</A></B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;org.apache.hadoop.fs.Path&gt;&nbsp;basePaths,
                       org.apache.hadoop.conf.Configuration&nbsp;conf)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns all non-hidden files recursively inside the base paths given</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.hadoop.fs.Path</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#getLast(org.apache.hadoop.fs.Path, org.apache.hadoop.fs.FileSystem)">getLast</A></B>(org.apache.hadoop.fs.Path&nbsp;path,
        org.apache.hadoop.fs.FileSystem&nbsp;fs)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get last file of a hdfs path if it is  a directory;
   or return the file itself if path is a file</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;org.apache.hadoop.fs.Path&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#getPaths(java.lang.String, org.apache.hadoop.conf.Configuration, boolean)">getPaths</A></B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;pathString,
         org.apache.hadoop.conf.Configuration&nbsp;conf,
         boolean&nbsp;failIfNotFound)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the list of paths from the pathString specified which may contain
 comma-separated paths and glob style path</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.avro.Schema</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#getSchema(org.apache.hadoop.fs.Path, org.apache.hadoop.fs.FileSystem)">getSchema</A></B>(org.apache.hadoop.fs.Path&nbsp;path,
          org.apache.hadoop.fs.FileSystem&nbsp;fs)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is called by <CODE>#getAvroSchema</CODE>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;org.apache.hadoop.fs.Path,<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>,<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&gt;&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#getSchemaToMergedSchemaMap(org.apache.avro.Schema, java.util.Map)">getSchemaToMergedSchemaMap</A></B>(org.apache.avro.Schema&nbsp;mergedSchema,
                           <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;org.apache.hadoop.fs.Path,org.apache.avro.Schema&gt;&nbsp;mergedFiles)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;When merging multiple avro record schemas, we build a map (schemaToMergedSchemaMap)
 to associate each input record with a remapping of its fields relative to the merged
 schema.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.avro.Schema.Field</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#getUDField(org.apache.avro.Schema, int)">getUDField</A></B>(org.apache.avro.Schema&nbsp;s,
           int&nbsp;index)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get field schema given index number</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#isAcceptableUnion(org.apache.avro.Schema)">isAcceptableUnion</A></B>(org.apache.avro.Schema&nbsp;in)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;determine whether a union is a nullable union;
 note that this function doesn't check containing
 types of the input union recursively.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#isTupleWrapper(org.apache.pig.ResourceSchema.ResourceFieldSchema)">isTupleWrapper</A></B>(<A HREF="../../../../../../org/apache/pig/ResourceSchema.ResourceFieldSchema.html" title="class in org.apache.pig">ResourceSchema.ResourceFieldSchema</A>&nbsp;pigSchema)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;check whether it is just a wrapped tuple</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#isUDPartialRecordSchema(org.apache.avro.Schema)">isUDPartialRecordSchema</A></B>(org.apache.avro.Schema&nbsp;s)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;check whether a schema is a space holder (using field name)</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.avro.Schema</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#mergeSchema(org.apache.avro.Schema, org.apache.avro.Schema)">mergeSchema</A></B>(org.apache.avro.Schema&nbsp;x,
            org.apache.avro.Schema&nbsp;y)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method merges two avro schemas into one.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#noDir(org.apache.hadoop.fs.FileStatus[])">noDir</A></B>(org.apache.hadoop.fs.FileStatus[]&nbsp;ss)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;check whether there is NO directory in the input file (status) list</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../../../org/apache/pig/ResourceSchema.ResourceFieldSchema.html" title="class in org.apache.pig">ResourceSchema.ResourceFieldSchema</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#wrapAsTuple(org.apache.pig.ResourceSchema.ResourceFieldSchema)">wrapAsTuple</A></B>(<A HREF="../../../../../../org/apache/pig/ResourceSchema.ResourceFieldSchema.html" title="class in org.apache.pig">ResourceSchema.ResourceFieldSchema</A>&nbsp;subFieldSchema)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wrap a pig schema as tuple</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.avro.Schema</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#wrapAsUnion(org.apache.avro.Schema, boolean)">wrapAsUnion</A></B>(org.apache.avro.Schema&nbsp;schema,
            boolean&nbsp;nullable)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Wrap an avro schema as a nullable union if needed.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="BooleanSchema"><!-- --></A><H3>
BooleanSchema</H3>
<PRE>
public static org.apache.avro.Schema <B>BooleanSchema</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="LongSchema"><!-- --></A><H3>
LongSchema</H3>
<PRE>
public static org.apache.avro.Schema <B>LongSchema</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="FloatSchema"><!-- --></A><H3>
FloatSchema</H3>
<PRE>
public static org.apache.avro.Schema <B>FloatSchema</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="DoubleSchema"><!-- --></A><H3>
DoubleSchema</H3>
<PRE>
public static org.apache.avro.Schema <B>DoubleSchema</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="IntSchema"><!-- --></A><H3>
IntSchema</H3>
<PRE>
public static org.apache.avro.Schema <B>IntSchema</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="StringSchema"><!-- --></A><H3>
StringSchema</H3>
<PRE>
public static org.apache.avro.Schema <B>StringSchema</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="BytesSchema"><!-- --></A><H3>
BytesSchema</H3>
<PRE>
public static org.apache.avro.Schema <B>BytesSchema</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="NullSchema"><!-- --></A><H3>
NullSchema</H3>
<PRE>
public static org.apache.avro.Schema <B>NullSchema</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="PATH_FILTER"><!-- --></A><H3>
PATH_FILTER</H3>
<PRE>
public static org.apache.hadoop.fs.PathFilter <B>PATH_FILTER</B></PRE>
<DL>
<DD>ignore hdfs files with prefix "_" and "."
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="AvroStorageUtils()"><!-- --></A><H3>
AvroStorageUtils</H3>
<PRE>
public <B>AvroStorageUtils</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="createUDField(int, org.apache.avro.Schema)"><!-- --></A><H3>
createUDField</H3>
<PRE>
public static org.apache.avro.Schema.Field <B>createUDField</B>(int&nbsp;index,
                                                         org.apache.avro.Schema&nbsp;s)</PRE>
<DL>
<DD>create  an avro field using the given schema
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="createUDPartialRecordSchema()"><!-- --></A><H3>
createUDPartialRecordSchema</H3>
<PRE>
public static org.apache.avro.Schema <B>createUDPartialRecordSchema</B>()</PRE>
<DL>
<DD>create an avro field with null schema (it is a space holder)
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isUDPartialRecordSchema(org.apache.avro.Schema)"><!-- --></A><H3>
isUDPartialRecordSchema</H3>
<PRE>
public static boolean <B>isUDPartialRecordSchema</B>(org.apache.avro.Schema&nbsp;s)</PRE>
<DL>
<DD>check whether a schema is a space holder (using field name)
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getUDField(org.apache.avro.Schema, int)"><!-- --></A><H3>
getUDField</H3>
<PRE>
public static org.apache.avro.Schema.Field <B>getUDField</B>(org.apache.avro.Schema&nbsp;s,
                                                      int&nbsp;index)</PRE>
<DL>
<DD>get field schema given index number
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPaths(java.lang.String, org.apache.hadoop.conf.Configuration, boolean)"><!-- --></A><H3>
getPaths</H3>
<PRE>
public static <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;org.apache.hadoop.fs.Path&gt; <B>getPaths</B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;pathString,
                                                      org.apache.hadoop.conf.Configuration&nbsp;conf,
                                                      boolean&nbsp;failIfNotFound)
                                               throws <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Gets the list of paths from the pathString specified which may contain
 comma-separated paths and glob style path
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getAllFilesRecursively(java.util.Set, org.apache.hadoop.conf.Configuration)"><!-- --></A><H3>
getAllFilesRecursively</H3>
<PRE>
public static <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;org.apache.hadoop.fs.Path&gt; <B>getAllFilesRecursively</B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;org.apache.hadoop.fs.Path&gt;&nbsp;basePaths,
                                                                    org.apache.hadoop.conf.Configuration&nbsp;conf)
                                                             throws <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Returns all non-hidden files recursively inside the base paths given
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="noDir(org.apache.hadoop.fs.FileStatus[])"><!-- --></A><H3>
noDir</H3>
<PRE>
public static boolean <B>noDir</B>(org.apache.hadoop.fs.FileStatus[]&nbsp;ss)</PRE>
<DL>
<DD>check whether there is NO directory in the input file (status) list
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getLast(org.apache.hadoop.fs.Path, org.apache.hadoop.fs.FileSystem)"><!-- --></A><H3>
getLast</H3>
<PRE>
public static org.apache.hadoop.fs.Path <B>getLast</B>(org.apache.hadoop.fs.Path&nbsp;path,
                                                org.apache.hadoop.fs.FileSystem&nbsp;fs)
                                         throws <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>get last file of a hdfs path if it is  a directory;
   or return the file itself if path is a file
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="mergeSchema(org.apache.avro.Schema, org.apache.avro.Schema)"><!-- --></A><H3>
mergeSchema</H3>
<PRE>
public static org.apache.avro.Schema <B>mergeSchema</B>(org.apache.avro.Schema&nbsp;x,
                                                 org.apache.avro.Schema&nbsp;y)
                                          throws <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>This method merges two avro schemas into one. Note that not every avro schema
 can be merged. For complex types to be merged, they must be the same type.
 For primitive types to be merged, they must meet certain conditions. For
 schemas that cannot be merged, an exception is thrown.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>x</CODE> - first avro schema to merge<DD><CODE>y</CODE> - second avro schema to merge
<DT><B>Returns:</B><DD>merged avro schema
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getSchemaToMergedSchemaMap(org.apache.avro.Schema, java.util.Map)"><!-- --></A><H3>
getSchemaToMergedSchemaMap</H3>
<PRE>
public static <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;org.apache.hadoop.fs.Path,<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>,<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&gt;&gt; <B>getSchemaToMergedSchemaMap</B>(org.apache.avro.Schema&nbsp;mergedSchema,
                                                                                             <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;org.apache.hadoop.fs.Path,org.apache.avro.Schema&gt;&nbsp;mergedFiles)
                                                                                      throws <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>When merging multiple avro record schemas, we build a map (schemaToMergedSchemaMap)
 to associate each input record with a remapping of its fields relative to the merged
 schema. Take the following two schemas for example:

 // path1
 { "type": "record",
   "name": "x",
   "fields": [ { "name": "xField", "type": "string" } ]
 }

 // path2
 { "type": "record",
   "name": "y",
   "fields": [ { "name": "yField", "type": "string" } ]
 }

 The merged schema will be something like this:

 // merged
 { "type": "record",
   "name": "merged",
   "fields": [ { "name": "xField", "type": "string" },
               { "name": "yField", "type": "string" } ]
 }

 The schemaToMergedSchemaMap will look like this:

 // schemaToMergedSchemaMap
 { path1 : { 0 : 0 },
   path2 : { 0 : 1 }
 }

 The meaning of the map is:
 - The field at index '0' of 'path1' is moved to index '0' in merged schema.
 - The field at index '0' of 'path2' is moved to index '1' in merged schema.

 With this map, we can now remap the field position of the original schema to
 that of the merged schema. This is necessary because in the backend, we don't
 use the merged avro schema but embedded avro schemas of input files to load
 them. Therefore, we must relocate each field from old positions in the original
 schema to new positions in the merged schema.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>mergedSchema</CODE> - new schema generated from multiple input schemas<DD><CODE>mergedFiles</CODE> - input avro files that are merged
<DT><B>Returns:</B><DD>schemaToMergedSchemaMap that maps old position of each field in the
 original schema to new position in the new schema
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="wrapAsUnion(org.apache.avro.Schema, boolean)"><!-- --></A><H3>
wrapAsUnion</H3>
<PRE>
public static org.apache.avro.Schema <B>wrapAsUnion</B>(org.apache.avro.Schema&nbsp;schema,
                                                 boolean&nbsp;nullable)</PRE>
<DL>
<DD>Wrap an avro schema as a nullable union if needed.
 For instance, wrap schema "int" as ["null", "int"]
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="containsRecursiveRecord(org.apache.avro.Schema)"><!-- --></A><H3>
containsRecursiveRecord</H3>
<PRE>
public static boolean <B>containsRecursiveRecord</B>(org.apache.avro.Schema&nbsp;s)</PRE>
<DL>
<DD>determine whether the input schema contains recursive records
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="containsRecursiveRecord(org.apache.avro.Schema, java.util.Set)"><!-- --></A><H3>
containsRecursiveRecord</H3>
<PRE>
protected static boolean <B>containsRecursiveRecord</B>(org.apache.avro.Schema&nbsp;s,
                                                 <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&gt;&nbsp;definedRecordNames)</PRE>
<DL>
<DD>Called by <A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#containsRecursiveRecord(org.apache.avro.Schema)"><CODE>containsRecursiveRecord(Schema)</CODE></A> and it recursively checks
 whether the input schema contains recursive records.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="containsGenericUnion(org.apache.avro.Schema)"><!-- --></A><H3>
containsGenericUnion</H3>
<PRE>
public static boolean <B>containsGenericUnion</B>(org.apache.avro.Schema&nbsp;s)</PRE>
<DL>
<DD>determine whether the input schema contains generic unions
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="containsGenericUnion(org.apache.avro.Schema, java.util.Set)"><!-- --></A><H3>
containsGenericUnion</H3>
<PRE>
protected static boolean <B>containsGenericUnion</B>(org.apache.avro.Schema&nbsp;s,
                                              <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;org.apache.avro.Schema&gt;&nbsp;visitedRecords)</PRE>
<DL>
<DD>Called by <A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html#containsGenericUnion(org.apache.avro.Schema)"><CODE>containsGenericUnion(Schema)</CODE></A> and it recursively checks
 whether the input schema contains generic unions.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isAcceptableUnion(org.apache.avro.Schema)"><!-- --></A><H3>
isAcceptableUnion</H3>
<PRE>
public static boolean <B>isAcceptableUnion</B>(org.apache.avro.Schema&nbsp;in)</PRE>
<DL>
<DD>determine whether a union is a nullable union;
 note that this function doesn't check containing
 types of the input union recursively.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="wrapAsTuple(org.apache.pig.ResourceSchema.ResourceFieldSchema)"><!-- --></A><H3>
wrapAsTuple</H3>
<PRE>
public static <A HREF="../../../../../../org/apache/pig/ResourceSchema.ResourceFieldSchema.html" title="class in org.apache.pig">ResourceSchema.ResourceFieldSchema</A> <B>wrapAsTuple</B>(<A HREF="../../../../../../org/apache/pig/ResourceSchema.ResourceFieldSchema.html" title="class in org.apache.pig">ResourceSchema.ResourceFieldSchema</A>&nbsp;subFieldSchema)
                                                      throws <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>wrap a pig schema as tuple
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="isTupleWrapper(org.apache.pig.ResourceSchema.ResourceFieldSchema)"><!-- --></A><H3>
isTupleWrapper</H3>
<PRE>
public static boolean <B>isTupleWrapper</B>(<A HREF="../../../../../../org/apache/pig/ResourceSchema.ResourceFieldSchema.html" title="class in org.apache.pig">ResourceSchema.ResourceFieldSchema</A>&nbsp;pigSchema)</PRE>
<DL>
<DD>check whether it is just a wrapped tuple
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getAcceptedType(org.apache.avro.Schema)"><!-- --></A><H3>
getAcceptedType</H3>
<PRE>
public static org.apache.avro.Schema <B>getAcceptedType</B>(org.apache.avro.Schema&nbsp;in)</PRE>
<DL>
<DD>extract schema from a nullable union
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getSchema(org.apache.hadoop.fs.Path, org.apache.hadoop.fs.FileSystem)"><!-- --></A><H3>
getSchema</H3>
<PRE>
public static org.apache.avro.Schema <B>getSchema</B>(org.apache.hadoop.fs.Path&nbsp;path,
                                               org.apache.hadoop.fs.FileSystem&nbsp;fs)
                                        throws <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>This method is called by <CODE>#getAvroSchema</CODE>. The default implementation
 returns the schema of an avro file; or the schema of the last file in a first-level
 directory (it does not contain sub-directories).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>path</CODE> - path of a file or first level directory<DD><CODE>fs</CODE> - file system
<DT><B>Returns:</B><DD>avro schema
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AvroStorageUtils.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/AvroStorageLog.html" title="class in org.apache.pig.piggybank.storage.avro"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../org/apache/pig/piggybank/storage/avro/PigAvroDatumReader.html" title="class in org.apache.pig.piggybank.storage.avro"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html?org/apache/pig/piggybank/storage/avro/AvroStorageUtils.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AvroStorageUtils.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &copy; 2007-2012 The Apache Software Foundation
</BODY>
</HTML>
